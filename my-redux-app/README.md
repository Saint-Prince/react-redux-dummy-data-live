# react-redux-dummy-data-live
An experimentation of active dummy data in react and redux. This is useful for test components in isolation.

## Redux Toolkit

Redux Toolkit is a redux official package to implement redux logic in a standard and minimalized way. Letâ€™s quickly see, What does Redux Toolkit address

1. Configure the redux store with a single function!
2. Not required to add additional packages to implement redux.
3. No more Boilerplate codes.
4. In build thunk async handler.
5. Mutation helpers with inbuild immerjs.

## Install npm packages

```cmd
npm install @reduxjs/toolkit react-redux
```

or with react-create-app

```cmd
npx create-react-app my-app --template redux
```

## Create enums (optional)

to make the code more readable and maintainable, for each entity create enums and constants keeps shared information

```javascript
import { HTTP_METHOD }  from './http';

/**
 * Active/Disable dummy data for post
 */
export const USE_DUMMY_DATA = true;

/**
 * Url base for all urls of posts
 */
const urlBase = '/posts';

/**
 * URLs for UI posts
 */
export const POSTS_URLS = {
    LIST: urlBase,
    READ: `${urlBase}/{id}`,
    EDIT: `${urlBase}/{id}/edit`
};

/**
 * Endpoints for all webapi posts
 */
const endpointBase = '/api/posts/';

/**
 * Endpoints for webapi posts
 */
export const POSTS_ENDPOINTS = {
    LIST: [endpointBase, HTTP_METHOD.GET],
    CREATE: [endpointBase, HTTP_METHOD.POST],
    READ: [`${endpointBase}/{id}`, HTTP_METHOD.GET],
    EDIT: [`${endpointBase}/{id}`, HTTP_METHOD.PUT],
    DELETE: [`${endpointBase}/{id}`, HTTP_METHOD.DELETE]
};
```

## Create some data transformation function (optional)

to make the code more readable and maintainable, for each entity create transformation function in order to convert data from webapi to client and viceversa. So when we have changes (for example name changes, etc) we can fix only this functions and the rest of the code remain untouched.

```javascript
import isArray from 'lodash/isArray';

// convert data for details view
export const transformToDetails = ((data) => {
    return {
        id: data.id,
        title: data.title,
        description: data.description,
        text: data.text,
        categories: data.categories && isArray(data.categories) ?
            data.categories.map(cat => { return cat ? {
                id: cat.id,
                name: cat.name
            } : null })
        : null,
        createDate: data.createDate
    };
});

// convert data for list view
export const transformToList = ((data) => {
    return data && isArray(data) && data.map(item => { return transformToDetails(item)});
});
```



## Create actionTypes

no required (see slice)

## Create actions

no required (see slice)

## Create reducers for each entity

no required (see slice)

## Create a rootReducer

no required (see slice)

## using Slice

Redux Toolkit provides an API called createSlice. Which handles the initial state, automatically creates action types and creators. And no more switch cases. We are also not required to write action types and creators manually. Check the below code for the new slice reducer

Slice is a new term in Redux, introduced by reduxjs/toolkit in order to avoid boilerplate code.

```javascript
import { createSlice } from '@reduxjs/toolkit'

export const counterSlice = createSlice({
  name: 'counter', // Reducer Name
  initialState: {
    value: 0,
  },
  reducers: {
    increment: (state) => {
      // Redux Toolkit allows us to write "mutating" logic in reducers. It
      // doesn't actually mutate the state because it uses the Immer library,
      // which detects changes to a "draft state" and produces a brand new
      // immutable state based off those changes
      state.value += 1
    },
    decrement: (state) => {
      state.value -= 1
    },
    incrementByAmount: (state, action) => {
      state.value += action.payload
    },
  },
})

// Action creators are generated for each case reducer function
export const { increment, decrement, incrementByAmount } = counterSlice.actions

export default counterSlice.reducer
```

createSlice also have *extraReducer*. This option is to handle actions types that are not generated by the current slice.

## Create a store

create a store to include reducers

```javascript
import { configureStore } from '@reduxjs/toolkit'
import counterReducer from '../features/counter/counterSlice'

export default configureStore({
  reducer: {
    counter: counterReducer,
  },
})
```


## Create selectors

no required (see slice)

## Connect Redux to React app

For connect redux store to the app we use the Provider in the start point of the app, for example index.js or App.js

```javascript
import { Provider } from 'react-redux'
import store from './store'

import App from './App'

const rootElement = document.getElementById('root')
ReactDOM.render(
  <Provider store={store}>
    <App />
  </Provider>,
  rootElement
)
```

### add Slice to Store

in your file store

```javascript
import { configureStore } from '@reduxjs/toolkit'
import counterReducer from '../features/counter/counterSlice'

export default configureStore({
  reducer: {
    counter: counterReducer,
  },
})
```


## using redux in your component throw Hooks


```javascript
import React, { useState } from 'react'
import { useSelector, useDispatch } from 'react-redux'
import { decrement, increment } from './counterSlice'
import styles from './Counter.module.css'

export function Counter() {
  const count = useSelector((state) => state.counter.value)
  const dispatch = useDispatch()

  return (
    <div>
      <div>
        <button
          aria-label="Increment value"
          onClick={() => dispatch(increment())}
        >
          Increment
        </button>
        <span>{count}</span>
        <button
          aria-label="Decrement value"
          onClick={() => dispatch(decrement())}
        >
          Decrement
        </button>
      </div>
    </div>
  )
}
```


## references

https://react-redux.js.org/introduction/getting-started

https://react-redux.js.org/tutorials/quick-start

https://redux.js.org/introduction/getting-started

https://redux.js.org/style-guide/style-guide

React slice: https://javascript.plainenglish.io/redux-slice-37c7616cebdc


## Getting Started with Create React App

This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app).

## References

https://javascript.plainenglish.io/redux-toolkit-the-standard-way-to-write-redux-dcfb372202b8

